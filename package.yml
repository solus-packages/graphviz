name       : graphviz
version    : 2.42.2
release    : 18
source     :
    - git|https://gitlab.com/graphviz/graphviz.git : stable_release_2.42.2
license    : EPL-1.0
component  : multimedia.graphics
clang      : yes
summary    : Graphviz is open source graph visualization software
description: |
    Graphviz is open source graph visualization software
builddeps  :
    - pkgconfig(gdk-pixbuf-2.0)
    - pkgconfig(glu)
    - pkgconfig(glut)
    - pkgconfig(gtk+-2.0)
    - pkgconfig(gts)
    - pkgconfig(librsvg-2.0)
    - pkgconfig(pango)
    - pkgconfig(poppler)
    - pkgconfig(Qt5Core)
    - pkgconfig(xaw6)
    - ghostscript-devel
setup      : |
    %patch -p1 < $pkgfiles/ghostscript918.patch
    ./autogen.sh
    sed -i "s|QMAKE = @QMAKE@|QMAKE = @QMAKE@ QMAKE_MOC=moc-qt4 QMAKE_RCC=rcc-qt4 QMAKE_UIC=uic-qt4|" cmd/gvedit/Makefile.in
    %configure --disable-static
build      : |
    %make
install    : |
    %make_install
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$installdir/usr/lib64
    $installdir/usr/bin/dot -c
patterns   :
    - devel :
        - /usr/lib64/graphviz/*.so
